## Production Convex URL fix + TS cleanup (now)

**Status**: ✅ Build succeeds locally; prod needs redeploy + Clerk key

- Fixed Firebase blank page: Convex client crashed with “Provided address was not an absolute URL”. Root cause: VITE_CONVEX_URL missing at build time.
- Hardened provider initialization:
  - src/components/providers.tsx: safe Convex URL resolution; fallback from VITE_CONVEX_HTTP_ORIGIN (.convex.site) to .convex.cloud; show helpful config error instead of crash.
- Added production env:
  - .env.production: VITE_CONVEX_URL=https://peaceful-boar-923.convex.cloud; VITE_CONVEX_HTTP_ORIGIN=https://peaceful-boar-923.convex.site.
- Resolved TS strict errors and unused code:
  - convex/ai/stream.ts: removed unused helpers; tools minimal noUnused fixes
  - src/store/sessionStore.ts, src/views/SettingsView.tsx: removed unused params/hooks.
- Build: npm run build → success. Firebase deploy pending.

Result
- Local production bundle OK. Live site still needs VITE_CLERK_PUBLISHABLE_KEY for prod build and a fresh deploy.
- New runtime message if misconfigured: prompts to set Convex URL instead of blank page.

Next
- Export VITE_CLERK_PUBLISHABLE_KEY in CI or .env.production, rebuild, and run `firebase deploy --only hosting`.
